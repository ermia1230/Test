import { defineConfig, loadEnv } from 'vite';
import reactNativeTesting from "vitest-react-native";
import {getAliases} from "./test/aliases"


export default defineConfig(function({mode,command}){
  const env = loadEnv(mode, process.cwd(), '')
  return {
    plugins: [reactNativeTesting()], // does not seem to affect react and vue
    test: {
      environment: "happy-dom",
      css:true,
      //    setupFiles: ['test/setup.js'],
      exclude:['node_modules/**'],
      clearMocks:true,   // clear mocks after each test
    },
    resolve:getAliases("/test/dummy/")
  };
})
