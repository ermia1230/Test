import { vi, describe, it, expect, afterEach} from "vitest";

vi.mock("mobx-react-lite");
import {observer} from "mobx-react-lite";
observer.mockImplementation(function(x){ return x; }) ;

import { runCustomEventTests } from "./tw2.5.2-search.handleCustomEvents";

import {webCustomEvents} from "./webCustomEvents";

import {reactRender, vueRender} from "./render";

// re-run these tests if any of the search presenter changes, or the web search views
import.meta.glob("/src/vuejs/searchPresenter.*sx")
import.meta.glob("/src/reactjs/searchPresenter.*sx")
import.meta.glob("/src/views/searchFormView.*sx")
import.meta.glob("/src/views/searchResultsView.*sx")

describe.for([
    {   name:"React",  render: reactRender, path:"reactjs"},
    {   name:"Vue",    render: vueRender,   path:"vuejs"},
])("", async function(framework){
    runCustomEventTests(framework, webCustomEvents);
});
