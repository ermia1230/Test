import { vi, describe, it, expect, afterEach} from "vitest";

vi.mock("mobx-react-lite");
import {observer} from "mobx-react-lite";
observer.mockImplementation(function(x){ return x; }) ;

import {webCustomEvents} from "./webCustomEvents";
import {reactRender, vueRender} from "./render";
import { runCustomEventTests } from "./tw2.5.1-details.handleCustomEvents";

// re-run these tests if any details presenter changes, or the web details view
import.meta.glob("/src/reactjs/detailsPresenter.*sx")
import.meta.glob("/src/vuejs/detailsPresenter.*sx")
import.meta.glob("/src/views/detailsView.*sx")

describe.for([
    {   name:"React",   render: reactRender,    path:"reactjs"},
    {   name:"Vue",     render: vueRender,      path:"vuejs"},
])("", async function(framework){
    runCustomEventTests(framework, webCustomEvents);
});
